---
layout: post
title:  Python String
categories: Interview
---

## 58. Length of Last Word
```py
class Solution(object):
    def lengthOfLastWord(self, s):
        """
        :type s: str
        :rtype: int
        """
        start = -1
        res = 0
        for i in range(len(s)-1,-1,-1):
            if s[i] != ' ':
                if start > 0:
                    res = max(res,start-i+1) 
                else:
                    start = i
                    res = max(res,1)
            else:
                if res > 0:
                    break
        return res
```
## 387. First Unique Character in a String
```py
class Solution(object):
    def firstUniqChar(self, s):
        d = {}
        for c in s:
            if c not in d:
                d[c] = 1
            else:
                d[c] += 1
        for i in range(len(s)):
            if d[s[i]] == 1:
                return i
        return -1
```

## 383. Ransom Note
```py
class Solution(object):
    def canConstruct(self, ransomNote, magazine):
        d = {}
        for c in magazine:
            if c not in d:
                d[c] = 1
            else:
                d[c] += 1
        for c in ransomNote:
            if c not in d or d[c] <= 0:
                return False
            else:
                d[c] -= 1
        return True
```

## 151. Reverse Words in a String
```
class Solution:
    def reverseWords(self, s: str) -> str:
        if not s: return ""
        words = s.split()
        res = ""
        for i in range(len(words)-1,-1,-1):
            if res:
                res += " "
            res+= words[i]
        return res
```

## 186	Reverse Words in a String II
For in-place, rever the whole string, then reverse each word

## 345. Reverse Vowels of a String
```py
class Solution:
    def reverseVowels(self, s: str) -> str:
        sl = list(s)
        l,r = 0,len(s)-1
        vowels = "aeiouAEIOU"
        while l < r:
            while l < r and sl[l] not in vowels:
                l+=1
            while r > l and sl[r] not in vowels:
                r-=1
            sl[l],sl[r] = sl[r],sl[l]
            l,r = l+1, r-1
        return "".join(sl)
```


## 560. Subarray Sum Equals K
Using HashMap, O(N)
```
class Solution:
    def subarraySum(self, nums: List[int], k: int) -> int:
        pre = 0
        d = {0:1}
        cnt = 0
        for i in range(len(nums)):
            pre = pre+nums[i]
            if pre-k in d:
                cnt += d[pre-k]
            if pre not in d:
                d[pre]=1
            else:
                d[pre]+= 1
        return cnt
```


## 205	Isomorphic Strings
注意是双射
```py
class Solution:
    def isIsomorphic(self, s: str, t: str) -> bool:
        s2t,t2s = {},{}
        for i in range(len(s)):
            if (s[i] in s2t and s2t[s[i]] != t[i]) or (t[i] in t2s and t2s[t[i]] != s[i]):
                return False
            s2t[s[i]]=t[i]; t2s[t[i]] = s[i]
        return True
        
```

## 293	Flip Game
```py
class Solution:
    """
    @param s: the given string
    @return: all the possible states of the string after one valid move
    """
    def generatePossibleNextMoves(self, s):
        # write your code here
        res = 0
        for i in range(1,len(s)):
            if s[i-1:i+1] == "++":
                res += 1
        return res
```

## 294 Flip Game II
```
class Solution:
    """
    @param s: the given string
    @return: if the starting player can guarantee a win
    """
    def canWin(self, s):
        return self.helper(s)
    def helper(self,s):
        for i in range(len(s)):
            if i+1<len(s) and s[i:i+2] == "++" and not self.canWin(s[:i]+"--"+s[i+2])
                return True
        return False
```

## 290 Word Pattern
```py
class Solution:
    def wordPattern(self, pattern: str, str: str) -> bool:
        words = str.split()
        p2w, w2p = {},{}
        if len(words) != len(pattern):
            return False
        for i in range(len(pattern)):
            if (pattern[i] in p2w and p2w[pattern[i]] != words[i]) or (words[i] in w2p and w2p[words[i]] != pattern[i]):    return False
            p2w[pattern[i]] = words[i]
            w2p[words[i]] = pattern[i]
        return True
```


## 242. Valid Anagram
```py
class Solution:
    def isAnagram(self, s: str, t: str) -> bool:
        d = {}
        if len(s) != len(t): return False
        for c in s:
            if c not in d: d[c]=1
            else: d[c]+=1
        for c in t:
            if c not in d or d[c] <= 0: return False
            d[c] -= 1
        return True
``` 

## 49. Group Anagrams
```py
class Solution:
    def groupAnagrams(self, strs: List[str]) -> List[List[str]]:
        d = {}
        res = {}
        idx = [0]*len(strs)
        for i in range(len(strs)):
            sl = list(strs[i])
            sl.sort()
            s = "".join(sl)
            if s not in d:
                d[s] = len(d)
            idx[i] = d[s]
            if idx[i] in res:
                res[idx[i]] += [strs[i]]
            else:
                res[idx[i]] = [strs[i]] 
        result = []
        for value in res.values():
            result += [value]
        return result
```

## 249 	Group Shifted Strings
For each number, record the diff between characters, if 1 char,record no diff, otherwise record diff for each postion - the first char, then save that tuple as a key
```py
class Solution:
    """
    @param strings: a string array
    @return: return a list of string array
    """
    def groupStrings(self, strings):
        # write your code here
        d = {}
        e = []
        for s in strings:
            diff = []
            for i in range(1,len(s)):
                diff.append((ord(s[i])-ord(s[0]))%26)
            if len(diff) == 0:
                e.append(s)
            else:
                if tuple(diff) in d:
                    d[tuple(diff)].append(s)
                else:
                    d[tuple(diff)] = [s]
        # print(d)
        res = []
        res += [e]
        for s in d.values():
            res += [s]
        return res
```

## 87. Scramble String
https://leetcode.com/problems/scramble-string/discuss/?currentPage=1&orderBy=most_votes&query=&tag=python
https://leetcode.com/problems/scramble-string/discuss/29459/Python-recursive-solution